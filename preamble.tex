\documentclass[a4paper,hidelinks]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage{hyperref}
\usepackage{amsmath}
\usepackage{bookmark}
\usepackage{float}
\usepackage{graphicx}
\usepackage{mdframed}
\usepackage[french]{babel}
\usepackage{bbm} %RCQ
\usepackage{verbatim}
\usepackage{varioref}
\usepackage{theoremref}
\usepackage{tikz}
\usepackage{listings}
\usepackage{faktor}
\usepackage{python}
\usepackage{xurl}
\usepackage{xcolor}
\usepackage[amsmath,hyperref,thmmarks]{ntheorem}
\usepackage[fixed]{fontawesome5}
\usepackage{imakeidx}
\makeindex
% figure support
\usepackage{import}
\usepackage{xifthen}
\usepackage{pdfpages}
\usepackage{transparent}
\usepackage{thmtools}
\usepackage{amssymb}
\usepackage{aligned-overset}
%\usepackage{fancyhdr}
\usepackage{stmaryrd} % for \lightning
%\pagestyle{fancy}
\definecolor{background}{HTML}{FFFFFF}
\definecolor{myred}{HTML}{A54242}
\definecolor{mygreen}{HTML}{8C9440}
\definecolor{myyellow}{HTML}{F0C674}
\definecolor{myblue}{HTML}{5f819d}
\definecolor{mymagenta}{HTML}{85678f}
\definecolor{mycyan}{HTML}{5e8d87}
\definecolor{mygray}{HTML}{373B41}
\renewcommand{\vec}[1]{\overrightarrow{#1}}
\newcommand{\del}{\partial}
\DeclareMathOperator*{\sgn}{sgn}
%\DeclareMathOperator*{\om}{Hom}
%\DeclareMathOperator*{\end}{End}
\DeclareMathOperator*{\id}{Id}
\DeclareMathOperator*{\im}{Im}
\DeclareMathOperator*{\re}{Re}

\setlength\theorempreskipamount{2ex}
\setlength\theorempostskipamount{3ex}
\allowdisplaybreaks

	
\newcommand\norm[1]{\left\vert#1\right\vert}
\newcommand\Norm[1]{\left\lVert#1\right\rVert}
\newcommand\abs[1]{\left\vert#1\right\vert}
\newcommand\inj{\hookrightarrow}
\newcommand\surj{\twoheadrightarrow}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{background},   
    commentstyle=\color{mygreen},
    keywordstyle=\color{mymagenta},
    numberstyle=\tiny\color{mygray},
    stringstyle=\color{mycyan},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstset{style=mystyle}

\newcommand\sidenote[1]{\footnote{#1}}

%\renewtheoremstyle{break}%
  %{\item{\theorem@headerfont
          %##1\ ##2\theorem@separator}\hskip\labelsep\relax\nobreakitem}%
  %{\item{\theorem@headerfont
          %##1\ ##2\ (##3)\theorem@separator}\hskip\labelsep\relax\nobreakitem}
%% make \th@nonumberbreak the same as \th@break, but remove "\ ##2"
%\let\th@nonumberbreak\th@break
%\xpatchcmd*{\th@nonumberbreak}{\ ##2}{}{}{}
%\makeatother

\theorempreskip{10pt}
\theorempostskip{5pt}
\theoremstyle{break}



    % theorem envs

\newmdtheoremenv{thm}{Theorème}
\newtheorem{defn}{Definition}

\newmdtheoremenv{propo}[thm]{Proposition}

\newmdtheoremenv{crly}[thm]{Corollaire}

\newmdtheoremenv{lemma}[thm]{Lemme}

\newmdtheoremenv{propr}[thm]{Propriete}

\newtheorem*{rmq}[thm]{Remarque}

\newtheorem{axiom}[thm]{Axiom}

\newtheorem*{exemple}[thm]{Exemple}

\theoremsymbol{\ensuremath{ \square }}
\newtheorem*{proof}{Preuve}
\theoremsymbol{}

\newtheorem{exo}[thm]{Exercice}

\newcommand\eng[1]{\left\langle#1\right\rangle}

%\hypersetup{
    %unicode=true,          % non-Latin characters in Acrobat’s bookmarks
    %pdftoolbar=false,        % show Acrobat’s toolbar?
    %pdfmenubar=false,        % show Acrobat’s menu?
    %pdffitwindow=true,     % window fit to page when opened
    %colorlinks=true,
    %allcolors=magenta,
%}

% tikz


% horizontal rule
\newcommand\hr{
    \noindent\rule[0.5ex]{\linewidth}{0.5pt}
}

\newcommand{\incfig}[1]{%
    \def\svgwidth{\columnwidth}
    \import{./figures}{#1.pdf_tex}
}
\newcommand{\filler}[1][10]%
{   \foreach \x in {1,...,#1}
    {   test 
    }
}

\def\mathnote#1{%
  \tag*{\rlap{\hspace\marginparsep\smash{\parbox[t]{\marginparwidth}{%
  \footnotesize#1}}}}
}
\pdfsuppresswarningpagegroup=1
\newcommand\contra{\scalebox{1.5}{$\lightning$}}
\makeatother
\def\@lecture{}%
\newcommand{\lecture}[3]{
    \ifthenelse{\isempty{#3}}{%
        \def\@lecture{Lecture #1}%
    }{%
        \def\@lecture{Lecture #1: #3}%
    }%
    \subsection*{\@lecture}
    \marginpar{\small\textsf{\mbox{#2}}}
}
\makeatletter
\renewcommand{\baselinestretch}{1.2}
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}
\makeatletter
\patchcmd{\chapter}{\if@openright\cleardoublepage\else\clearpage\fi}{}{}{}
\makeatother
%\titleformat{\chapter}%
  %{\huge\rmfamily\itshape\color{mymagenta}}% format applied to label+text
  %{\llap{\colorbox{mymagenta}{\parbox[c][1cm]{3cm}{\hfill\itshape\Huge\textcolor{background}{\thechapter}}}}}% label
  %{5pt}% horizontal separation between label and title body
  %{\faLeaf}% before the title body
  %[]% after the title body

%\titleformat{\section}%
  %{\normalfont\Large\rmfamily\itshape\color{myblue}}% format applied to label+text
  %{\llap{\colorbox{myblue}{\parbox{3cm}{\hfill\itshape\textcolor{background}{\thesection}}}}}% label
  %{5pt}% horizontal separation between label and title body
  %{}% before the title body
  %[]% after the title body

%% subsection format
%\titleformat{\subsection}%
  %{\normalfont\large\itshape\color{mygreen}}% format applied to label+text
  %{\llap{\colorbox{mygreen}{\parbox{3cm}{\hfill\textcolor{background}{\thesubsection}}}}}% label
  %{1em}% horizontal separation between label and title body
  %{}% before the title body
  %[]% after the title body

%% subsubsection format
%\titleclass{\subsubsection}{straight}
%\titleformat{\subsubsection}%
  %{\normalfont\large\itshape\color{myyellow}}% format applied to label+text
  %{\llap{\colorbox{myyellow}{\parbox{3cm}{\hfill\textcolor{background}{\thesubsubsection}}}}}% label
  %{1em}% horizontal separation between label and title body
  %{}% before the title body
  %[]% after the title body

\usepackage{subfiles}
