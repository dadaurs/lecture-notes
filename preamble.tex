\documentclass[11pt, a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{tikz}
\usepackage{tikz-cd}
%\usepackage{quiver}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{hyperref}
\usepackage{bookmark}
\usepackage{float}
\usepackage{graphicx}
\usepackage{mdframed}
\usepackage[most]{tcolorbox}
\usepackage[a4paper,verbose]{geometry}
\usepackage[english]{babel}
%\usepackage{varioref}
\usepackage{theoremref}
\usepackage{listings}
\usepackage{faktor}
\usepackage{python}
\usepackage{xurl}
\usepackage{subfiles}

\usepackage[style=alphabetic,sorting=nyt]{biblatex}

\renewcommand{\finalnamedelim}{, }
\renewcommand{\vec}[1]{\overrightarrow{#1}}
\newcommand{\del}{\partial}
\DeclareMathOperator*{\id}{Id}
\newcommand{\ev}{\mathrm{ev}}
\DeclareMathOperator*{\cmod}{mod}
\DeclareMathOperator*{\ab}{Ab}
\newcommand{\sq}{\mathrm{Sq}}
\usepackage{color}
\RequirePackage{xcolor}
\usepackage[amsmath,hyperref,thmmarks]{ntheorem}
\include{newcommands.tex}


\newtheorem{thm}{Theorem}
\newtheorem{defn}{Definition}

\newtheorem{propo}[thm]{Proposition}
\newtheorem{notn}[thm]{Notation}
\newtheorem{rmk}[thm]{Remark}

\newtheorem{crly}[thm]{Corollary}

\newtheorem{lemma}[thm]{Lemma}

\renewcommand{\qedsymbol}{{$\Box$}}
\theoremstyle{plain}	
\theorembodyfont{\upshape}
\theoremsymbol{\ensuremath{ \Box }}
\newtheorem*{proof}{Proof}
\theoremsymbol{}

\usepackage{mathpazo}
\usepackage{euler}
\addbibresource{../sources.bib}

	
\newcommand\norm[1]{\left\vert#1\right\vert}
\newcommand\ns[1]{\left\vert\left\vert\left\vert#1\right\vert\right\vert\right\vert}
\newcommand\Norm[1]{\left\lVert#1\right\rVert}
\newcommand\N[1]{\left\lVert#1\right\rVert}
\newcommand\abs[1]{\left\vert#1\right\vert}
\newcommand\inj{\hookrightarrow}
\newcommand\surj{\twoheadrightarrow}
\newcommand\ded[1]{\overset{\circ}{#1}}

\hypersetup{
bookmarks,
bookmarksdepth=3,
bookmarksopen,
bookmarksnumbered,
pdfstartview=FitH,
colorlinks,backref,hyperindex,
%linkcolor=Sepia,
%anchorcolor=BurntOrange,
%citecolor=MidnightBlue,
%citecolor=OliveGreen,
%filecolor=BlueViolet,
%menucolor=Yellow,
%urlcolor=OliveGreen
linkcolor={red!80!black},
citecolor={green!70!black},
menucolor=Yellow,
urlcolor={blue!70!black}
}


% horizontal rule
\def\mathnote#1{%
  \tag*{\rlap{\hspace\marginparsep\smash{\parbox[t]{\marginparwidth}{%
  \footnotesize#1}}}}
}
\pdfsuppresswarningpagegroup=1
\makeatletter
\renewcommand{\baselinestretch}{1.2}
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}
%\makeatletter
%\patchcmd{\chapter}{\if@openright\cleardoublepage\else\clearpage\fi}{}{}{}
%\makeatother


\def\@lecture{}%
\newcommand{\lecture}[3]{
    \ifthenelse{\isempty{#3}}{%
        \def\@lecture{Lecture #1}%
    }{%
        \def\@lecture{Lecture #1: #3}%
    }%
    \subsection*{\@lecture}
    \marginpar{\small\textsf{\mbox{#2}}}
}

