\documentclass[a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage{amsmath}
\usepackage{hyperref}
\usepackage{bookmark}
\usepackage{graphicx}
\usepackage{mdframed}
\usepackage[french]{babel}
\usepackage{bbm} %RCQ
\usepackage{verbatim}
\usepackage{varioref}
\usepackage{theoremref}
\usepackage{tikz}
\usepackage{listings}
\usepackage{python}
\usepackage{xurl}
\usepackage{xcolor}
\usepackage[amsmath,hyperref,thmmarks]{ntheorem}
\usepackage[fixed]{fontawesome5}
% figure support
\usepackage{import}
\usepackage{xifthen}
\usepackage{pdfpages}
\usepackage{transparent}
%\usepackage{fancyhdr}
\usepackage{stmaryrd} % for \lightning
%\pagestyle{fancy}
\definecolor{background}{HTML}{FFFFFF}
\definecolor{myred}{HTML}{A54242}
\definecolor{mygreen}{HTML}{8C9440}
\definecolor{myyellow}{HTML}{F0C674}
\definecolor{myblue}{HTML}{5f819d}
\definecolor{mymagenta}{HTML}{85678f}
\definecolor{mycyan}{HTML}{5e8d87}

\setlength\theorempreskipamount{2ex}
\setlength\theorempostskipamount{3ex}
\allowdisplaybreaks

	
\newcommand\norm[1]{\left\vert#1\right\vert}
\newcommand\Norm[1]{\left\lVert#1\right\rVert}
\newcommand\abs[1]{\left\vert#1\right\vert}



%\renewtheoremstyle{break}%
  %{\item{\theorem@headerfont
          %##1\ ##2\theorem@separator}\hskip\labelsep\relax\nobreakitem}%
  %{\item{\theorem@headerfont
          %##1\ ##2\ (##3)\theorem@separator}\hskip\labelsep\relax\nobreakitem}
%% make \th@nonumberbreak the same as \th@break, but remove "\ ##2"
%\let\th@nonumberbreak\th@break
%\xpatchcmd*{\th@nonumberbreak}{\ ##2}{}{}{}
%\makeatother

\theorempreskip{10pt}
\theorempostskip{5pt}
\theoremstyle{break}



    % theorem envs
\theoremprework{\textcolor{myred}{\hrule height 2pt width \textwidth}}
\theoremheaderfont{\color{myred}\normalfont\bfseries}
\theorempostwork{\textcolor{myred}{\hrule height 2pt width \textwidth}}
\theoremindent10pt
\newtheorem{thm}{\faCoffee Theorem}

\theoremprework{\textcolor{myblue}{\hrule height 2pt width \textwidth}}
\theoremheaderfont{\color{myblue}\normalfont\bfseries}
\theorempostwork{\textcolor{myblue}{\hrule height 2pt width \textwidth}}
\theoremindent10pt
\newtheorem{defn}{\faBook Definition}

\theoremprework{\textcolor{mygreen}{\hrule height 2pt width \textwidth}}
\theorempostwork{\textcolor{mygreen}{\hrule height 2pt width \textwidth}}
\theoremindent10pt
\newtheorem{propo}[thm]{\faTint Proposition}

\theoremprework{\textcolor{myyellow}{\hrule height 2pt width \textwidth}}
\theorempostwork{\textcolor{myyellow}{\hrule height 2pt width \textwidth}}
\theoremindent10pt
\newtheorem{crly}[thm]{\faSpaceShuttle Corollary}

\theoremprework{\textcolor{mymagenta}{\hrule height 2pt width \textwidth}}
\theorempostwork{\textcolor{mymagenta}{\hrule height 2pt width \textwidth}}
\theoremindent10pt
\newtheorem{lemma}[thm]{\faTree Lemma}

\theoremprework{\textcolor{mycyan}{\hrule height 2pt width \textwidth}}
\theorempostwork{\textcolor{mycyan}{\hrule height 2pt width \textwidth}}
\theoremindent10pt
\newtheorem{axiom}[thm]{\faShield* Axiom}

\theoremprework{\textcolor{mycyan}{\hrule height 2pt width \textwidth}}
\theorembodyfont{\normalfont}
\theoremheaderfont{\color{mycyan}\normalfont\bfseries}
\theorempostwork{\textcolor{mycyan}{\hrule height 2pt width \textwidth}}
\theoremsymbol{\ensuremath{_\square}}
\newtheorem*{proof}{\faPencil* Proof}
\theoremsymbol{}


%\hypersetup{
    %unicode=true,          % non-Latin characters in Acrobat’s bookmarks
    %pdftoolbar=false,        % show Acrobat’s toolbar?
    %pdfmenubar=false,        % show Acrobat’s menu?
    %pdffitwindow=true,     % window fit to page when opened
    %colorlinks=true,
    %allcolors=magenta,
%}

% tikz


% horizontal rule
\newcommand\hr{
    \noindent\rule[0.5ex]{\linewidth}{0.5pt}
}

\newcommand{\incfig}[1]{%
    \def\svgwidth{\columnwidth}
    \import{./figures}{#1.pdf_tex}
}
\newcommand{\filler}[1][10]%
{   \foreach \x in {1,...,#1}
    {   test 
    }
}

\def\mathnote#1{%
  \tag*{\rlap{\hspace\marginparsep\smash{\parbox[t]{\marginparwidth}{%
  \footnotesize#1}}}}
}
\pdfsuppresswarningpagegroup=1
\newcommand\contra{\scalebox{1.5}{$\lightning$}}
\makeatother
\def\@lecture{}%
\newcommand{\lecture}[3]{
    \ifthenelse{\isempty{#3}}{%
        \def\@lecture{Lecture #1}%
    }{%
        \def\@lecture{Lecture #1: #3}%
    }%
    \subsection*{\@lecture}
    \marginpar{\small\textsf{\mbox{#2}}}
}
\makeatletter
\renewcommand{\baselinestretch}{1.2}
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}
\usepackage{subfiles}
